# bilibili-tui

<div align="center">

![Rust](https://img.shields.io/badge/Rust-stable-orange)
![License](https://img.shields.io/badge/License-MIT-blue)
![GitHub release (latest by date)](https://img.shields.io/github/v/release/maredevi/bilibili-tui?label=version&color=green)

ä¸€ä¸ªåŸºäºç»ˆç«¯ç”¨æˆ·ç•Œé¢ï¼ˆTUIï¼‰çš„ Bilibili å®¢æˆ·ç«¯ï¼Œä½¿ç”¨ Rust æ„å»ºï¼Œæä¾›è½»é‡çº§ä¸”é«˜æ•ˆçš„ Bilibili æµè§ˆä½“éªŒã€‚

[åŠŸèƒ½ç‰¹æ€§](#åŠŸèƒ½ç‰¹æ€§) â€¢ [å®‰è£…æŒ‡å—](#å®‰è£…æŒ‡å—) â€¢ [ä½¿ç”¨æ–¹æ³•](#ä½¿ç”¨æ–¹æ³•) â€¢ [å¼€å‘æŒ‡å—](#å¼€å‘æŒ‡å—)

</div>

## ğŸ“– é¡¹ç›®ç®€ä»‹

bilibili-tui æ˜¯ä¸€ä¸ªç°ä»£åŒ–çš„ç»ˆç«¯åº”ç”¨ç¨‹åºï¼Œè®©ä½ èƒ½å¤Ÿåœ¨ç»ˆç«¯ä¸­èˆ’é€‚åœ°æµè§ˆ Bilibili å¹³å°çš„å†…å®¹ã€‚å®ƒé‡‡ç”¨äº† Ratatui æ¡†æ¶æ„å»ºç¾è§‚çš„ç•Œé¢ï¼Œå¹¶é›†æˆäº†å®Œæ•´çš„ Bilibili API åŠŸèƒ½ã€‚

### âœ¨ æ ¸å¿ƒç‰¹ç‚¹

- ğŸš€ **é«˜æ€§èƒ½**: åŸºäº Rust å’Œ Tokio å¼‚æ­¥è¿è¡Œæ—¶ï¼Œå“åº”è¿…é€Ÿ
- ğŸ¨ **ç¾è§‚ç•Œé¢**: æ”¯æŒå¤šç§ä¸»é¢˜ï¼ŒåŒ…æ‹¬ Catppuccin ç³»åˆ—é…è‰²
- ğŸ“± **å®Œæ•´åŠŸèƒ½**: æ”¯æŒè§†é¢‘æ’­æ”¾ã€åŠ¨æ€æµè§ˆã€æœç´¢ã€å¼¹å¹•ç­‰æ ¸å¿ƒåŠŸèƒ½
- ğŸ” **å®‰å…¨è®¤è¯**: äºŒç»´ç ç™»å½•ï¼ŒCookie æœ¬åœ°æŒä¹…åŒ–å­˜å‚¨
- âŒ¨ï¸ **Vim é£æ ¼**: ç›´è§‚çš„é”®ä½ç»‘å®šï¼Œé€‚åˆç»ˆç«¯ç”¨æˆ·

## ï¿½ åº”ç”¨æˆªå›¾

| é¦–é¡µ                                        | æœç´¢é¡µ                                        |
| ------------------------------------------- | --------------------------------------------- |
| ![é¦–é¡µæ¨è](screenshots/home.png)           | ![æœç´¢é¡µé¢](screenshots/search.png)           |
| **åŠ¨æ€é¡µ**                                  | **åŠ¨æ€è¯¦æƒ…**                                  |
| ![å…³æ³¨åŠ¨æ€](screenshots/dynamic.png)        | ![åŠ¨æ€è¯¦æƒ…](screenshots/dynamic%20detail.png) |
| **è§†é¢‘è¯¦æƒ…**                                | **è§†é¢‘æ’­æ”¾**                                  |
| ![è§†é¢‘è¯¦æƒ…](screenshots/video%20detail.png) | ![è§†é¢‘æ’­æ”¾](screenshots/video%20playing.png)  |
| **è®¾ç½®é¡µ**                                  |                                               |
| ![è®¾ç½®é¡µé¢](screenshots/settings.png)       |                                               |

## ï¿½ğŸš€ åŠŸèƒ½ç‰¹æ€§

### ğŸ”‘ è®¤è¯ç³»ç»Ÿ

- **äºŒç»´ç ç™»å½•**: æ‰«æäºŒç»´ç å¿«é€Ÿç™»å½• Bilibili è´¦å·
- **å‡­è¯æŒä¹…åŒ–**: è‡ªåŠ¨ä¿å­˜ç™»å½•çŠ¶æ€åˆ°æœ¬åœ°é…ç½®ç›®å½•
- **çŠ¶æ€ç®¡ç†**: å®æ—¶æ£€æµ‹ç™»å½•çŠ¶æ€ï¼Œè‡ªåŠ¨å¤„ç†è®¤è¯è¿‡æœŸ

### ğŸ  æµè§ˆåŠŸèƒ½

- **é¦–é¡µæ¨è**: ä¸ªæ€§åŒ–è§†é¢‘æ¨èç½‘æ ¼ï¼Œæ”¯æŒå°é¢å›¾ç‰‡é¢„è§ˆ
- **åŠ¨æ€ç³»ç»Ÿ**: æµè§ˆå…³æ³¨çš„ UP ä¸»åŠ¨æ€ï¼Œæ”¯æŒå›¾ç‰‡å’Œæ–‡å­—åŠ¨æ€
- **UP ä¸»é—¨æˆ·**: å¸¸çœ‹ UP ä¸»å¿«é€Ÿè®¿é—®
- **åˆ†é¡µåŠ è½½**: æ™ºèƒ½åˆ†é¡µï¼Œæµç•…æµè§ˆå¤§é‡å†…å®¹

### ğŸ” æœç´¢åŠŸèƒ½

- **å…¨æ–‡æœç´¢**: æœç´¢ Bilibili å¹³å°çš„æ‰€æœ‰è§†é¢‘å†…å®¹
- **æ™ºèƒ½æ’åº**: æ”¯æŒæŒ‰çƒ­åº¦ã€æ—¶é—´ç­‰å¤šç§æ’åºæ–¹å¼
- **ç»“æœç­›é€‰**: ç²¾ç¡®çš„æœç´¢ç»“æœå±•ç¤º
- **åˆ†é¡µæµè§ˆ**: é«˜æ•ˆçš„åˆ†é¡µåŠ è½½æœºåˆ¶

### ğŸ¬ è§†é¢‘æ’­æ”¾

- **MPV é›†æˆ**: ä½¿ç”¨å¼ºå¤§çš„ MPV æ’­æ”¾å™¨è¿›è¡Œè§†é¢‘æ’­æ”¾
- **yt-dlp æ”¯æŒ**: è‡ªåŠ¨æå–å’Œæ’­æ”¾ Bilibili è§†é¢‘æµ
- **è®¤è¯æ’­æ”¾**: æ”¯æŒæ’­æ”¾ä¼šå‘˜ä¸“å±å’Œç™»å½•åå¯è§çš„å†…å®¹
- **Cookie åŒæ­¥**: è‡ªåŠ¨åŒæ­¥ç™»å½•çŠ¶æ€åˆ°æ’­æ”¾å™¨

### ğŸ“ äº’åŠ¨åŠŸèƒ½

- **è¯„è®ºç³»ç»Ÿ**: æŸ¥çœ‹è§†é¢‘è¯„è®ºå’Œå›å¤ï¼Œæ”¯æŒå¤šçº§è¯„è®º
- **ç›¸å…³æ¨è**: æ™ºèƒ½æ¨èç›¸å…³è§†é¢‘å†…å®¹
- **åŠ¨æ€äº’åŠ¨**: æŸ¥çœ‹å’Œæµè§ˆåŠ¨æ€è¯¦æƒ…

### ğŸ¨ ä¸»é¢˜ç³»ç»Ÿ

æ”¯æŒå¤šç§ç²¾ç¾é…è‰²æ–¹æ¡ˆï¼š

- **é»˜è®¤æš—è‰²**: ç»å…¸çš„æš—è‰²ä¸»é¢˜
- **Catppuccin Latte**: æ¸…æ–°çš„æµ…è‰²ä¸»é¢˜
- **Catppuccin FrappÃ©**: ä¼˜é›…çš„æ·±è“è‰²ä¸»é¢˜
- **Catppuccin Macchiato**: æ¸©æš–çš„æ£•è‰²ä¸»é¢˜
- **Catppuccin Mocha**: æ·±é‚ƒçš„æ·±è‰²ä¸»é¢˜
- **Nord**: åŒ—æ¬§é£æ ¼çš„å†·è‰²è°ƒä¸»é¢˜

### âš™ï¸ è®¾ç½®å’Œå®šåˆ¶

- **é”®ä½ç»‘å®š**: Vim é£æ ¼çš„å¯¼èˆªé”®ä½
- **ä¸»é¢˜åˆ‡æ¢**: å®æ—¶åˆ‡æ¢ç•Œé¢ä¸»é¢˜
- **é…ç½®æŒä¹…åŒ–**: è‡ªåŠ¨ä¿å­˜ç”¨æˆ·åå¥½è®¾ç½®
- **è´¦æˆ·ç®¡ç†**: ç™»å½•/ç™»å‡ºè´¦æˆ·ç®¡ç†

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **UI æ¡†æ¶**: [Ratatui](https://github.com/ratatui-org/ratatui) v0.30.0
- **å¼‚æ­¥è¿è¡Œæ—¶**: [Tokio](https://tokio.rs/) (full features)
- **HTTP å®¢æˆ·ç«¯**: [reqwest](https://docs.rs/reqwest/) (JSON + cookies)
- **å›¾ç‰‡å¤„ç†**: [image](https://docs.rs/image/) crate
- **QR ç ç”Ÿæˆ**: [qrcode](https://docs.rs/qrcode/), [tui-qrcode](https://docs.rs/tui-qrcode/)
- **ä¸»é¢˜ç³»ç»Ÿ**: [catppuccin](https://github.com/catppuccin/rust) (Ratatui feature)
- **å¼€å‘å·¥å…·**: [mise](https://mise.jdx.dev/), pre-commit hooks

## ğŸ“ é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ api/          # Bilibili API äº¤äº’æ¨¡å—
â”‚   â”œâ”€â”€ auth.rs   # äºŒç»´ç è®¤è¯å®ç°
â”‚   â”œâ”€â”€ client.rs # æ ¸å¿ƒ API å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ video.rs  # è§†é¢‘ä¿¡æ¯æ¥å£
â”‚   â”œâ”€â”€ search.rs # æœç´¢åŠŸèƒ½æ¥å£
â”‚   â”œâ”€â”€ dynamic.rs # åŠ¨æ€ç³»ç»Ÿæ¥å£
â”‚   â”œâ”€â”€ comment.rs # è¯„è®ºç³»ç»Ÿæ¥å£
â”‚   â”œâ”€â”€ recommend.rs # æ¨èç®—æ³•æ¥å£
â”‚   â””â”€â”€ wbi.rs    # WBI ç­¾åå®ç°
â”œâ”€â”€ app/          # åº”ç”¨é€»è¾‘å’ŒçŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ action.rs # åº”ç”¨åŠ¨ä½œå®šä¹‰
â”‚   â””â”€â”€ mod.rs    # ä¸»åº”ç”¨ç»“æ„
â”œâ”€â”€ player/       # MPV æ’­æ”¾å™¨é›†æˆ
â”‚   â””â”€â”€ mod.rs    # æ’­æ”¾å™¨æ§åˆ¶é€»è¾‘
â”œâ”€â”€ storage/      # æ•°æ®æŒä¹…åŒ–æ¨¡å—
â”‚   â””â”€â”€ mod.rs    # å‡­è¯å’Œé…ç½®å­˜å‚¨
â”œâ”€â”€ ui/           # UI ç»„ä»¶å’Œé¡µé¢
â”‚   â”œâ”€â”€ login.rs  # ç™»å½•é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ home.rs   # é¦–é¡µæ¨èç»„ä»¶
â”‚   â”œâ”€â”€ search.rs # æœç´¢é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ dynamic.rs # åŠ¨æ€é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ video_detail.rs # è§†é¢‘è¯¦æƒ…ç»„ä»¶
â”‚   â”œâ”€â”€ dynamic_detail.rs # åŠ¨æ€è¯¦æƒ…ç»„ä»¶
â”‚   â”œâ”€â”€ settings.rs # è®¾ç½®é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ sidebar.rs # ä¾§è¾¹æ å¯¼èˆª
â”‚   â”œâ”€â”€ theme.rs  # ä¸»é¢˜ç³»ç»Ÿå®ç°
â”‚   â””â”€â”€ video_card.rs # è§†é¢‘å¡ç‰‡ç»„ä»¶
â”œâ”€â”€ lib.rs        # æ¨¡å—å£°æ˜
â””â”€â”€ main.rs       # åº”ç”¨ç¨‹åºå…¥å£
```

## ğŸš€ å®‰è£…æŒ‡å—

### å‰ç½®è¦æ±‚

#### ç³»ç»Ÿä¾èµ–

- **Rust å·¥å…·é“¾**: ç¨³å®šç‰ˆ (stable)
- **Cargo**: Rust åŒ…ç®¡ç†å™¨

#### å¤–éƒ¨å·¥å…·

- **MPV**: å¼ºå¤§çš„è§†é¢‘æ’­æ”¾å™¨

  ```bash
  # Ubuntu/Debian
  sudo apt install mpv

  # macOS
  brew install mpv

  # Arch Linux
  sudo pacman -S mpv
  ```

- **yt-dlp**: è§†é¢‘æå–å·¥å…·ï¼ˆMPV å†…ç½®æ”¯æŒï¼‰

  ```bash
  # Ubuntu/Debian
  sudo apt install yt-dlp

  # macOS
  brew install yt-dlp

  # Arch Linux
  sudo pacman -S yt-dlp
  ```

- **MPV Bilibili å¼¹å¹•**

  è¯·å‚è€ƒ[MPV-Play-BiliBili-Comments](https://github.com/itKelis/MPV-Play-BiliBili-Comments)

#### æ¨èç»ˆç«¯

æ”¯æŒä»¥ä¸‹ç»ˆç«¯å›¾å½¢åè®®ä»¥è·å¾—æœ€ä½³å›¾ç‰‡é¢„è§ˆä½“éªŒï¼š

- **Kitty**: graphics protocol
- **Sixel**: å›¾å½¢åè®®æ”¯æŒ
- **iTerm2**: graphics protocol
- **å…¶ä»–ç»ˆç«¯**: å°†è‡ªåŠ¨å›é€€åˆ° ASCII è‰ºæœ¯æ¨¡å¼

### å®‰è£…æ–¹æ³•

#### æ–¹æ³•ä¸€ï¼šä» AUR å®‰è£…ï¼ˆArch Linux æ¨èï¼‰

å¯¹äº Arch Linux ç”¨æˆ·ï¼Œæ¨èé€šè¿‡ AUR å®‰è£…é¢„ç¼–è¯‘çš„äºŒè¿›åˆ¶åŒ…ï¼š

```bash
# ä½¿ç”¨ yay
yay -S bilibili-tui-bin

# æˆ–ä½¿ç”¨ paru
paru -S bilibili-tui-bin
```

> è¿™æ˜¯ Arch Linux ç”¨æˆ·æœ€ä¾¿æ·çš„å®‰è£…æ–¹å¼ï¼Œæ— éœ€æ‰‹åŠ¨ç¼–è¯‘ï¼Œè‡ªåŠ¨å¤„ç†ä¾èµ–å…³ç³»ã€‚

#### æ–¹æ³•äºŒï¼šä½¿ç”¨ Cargo

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/maredevi/bilibili-tui.git
cd bilibili-tui

# æ„å»ºå‘å¸ƒç‰ˆæœ¬
cargo build --release

# è¿è¡Œåº”ç”¨
./target/release/bilibili-tui
```

#### æ–¹æ³•ä¸‰ï¼šä»æºç ç¼–è¯‘ï¼ˆå¼€å‘ç‰ˆæœ¬ï¼‰

```bash
# ä» git ä»“åº“å…‹éš†å¹¶æ„å»º
git clone https://github.com/maredevi/bilibili-tui.git
cd bilibili-tui
cargo install --path .
```

> æ³¨æ„ï¼šå½“å‰ç‰ˆæœ¬å°šæœªå‘å¸ƒåˆ° crates.io

#### æ–¹æ³•å››ï¼šä½¿ç”¨ miseï¼ˆæ¨èç”¨äºå¼€å‘ï¼‰

```bash
# å®‰è£… miseï¼ˆå¦‚æœæœªå®‰è£…ï¼‰
# macOS: brew install mise
# Linux: å‚è€ƒå®˜æ–¹æ–‡æ¡£ https://mise.jdx.dev/

# å…‹éš†ä»“åº“
git clone https://github.com/maredevi/bilibili-tui.git
cd bilibili-tui

# å®‰è£…é¡¹ç›®ä¾èµ–
mise install

# æ„å»º
mise exec cargo build

# è¿è¡Œ
mise exec cargo run
```

## ğŸ“– ä½¿ç”¨æ–¹æ³•

### é”®ä½ç»‘å®š

åº”ç”¨é‡‡ç”¨ Vim é£æ ¼çš„é”®ä½ç»‘å®šï¼Œç†Ÿæ‚‰ Vim çš„ç”¨æˆ·å¯ä»¥å¿«é€Ÿä¸Šæ‰‹ï¼š

| åŠŸèƒ½           | é”®ä½                | è¯´æ˜                                                                          |
| -------------- | ------------------- | ----------------------------------------------------------------------------- |
| **å¯¼èˆª**       |                     |                                                                               |
| å‘ä¸Šç§»åŠ¨       | `k` / `â†‘`           | åœ¨åˆ—è¡¨ä¸­å‘ä¸Šç§»åŠ¨                                                              |
| å‘ä¸‹ç§»åŠ¨       | `j` / `â†“`           | åœ¨åˆ—è¡¨ä¸­å‘ä¸‹ç§»åŠ¨                                                              |
| å‘å·¦ç§»åŠ¨       | `h` / `â†`           | å‘å·¦å¯¼èˆª                                                                      |
| å‘å³ç§»åŠ¨       | `l` / `â†’`           | å‘å³å¯¼èˆª                                                                      |
| **æ“ä½œ**       |                     |                                                                               |
| ç¡®è®¤é€‰æ‹©       | `Enter`             | æ‰“å¼€é€‰ä¸­é¡¹                                                                    |
| è¿”å›ä¸Šçº§       | `Esc`               | è¿”å›ä¸Šä¸€é¡µé¢                                                                  |
| é€€å‡ºåº”ç”¨       | `q`                 | é€€å‡ºç¨‹åº                                                                      |
| æ’­æ”¾è§†é¢‘       | `p`                 | æ’­æ”¾é€‰ä¸­çš„è§†é¢‘                                                                |
| åˆ·æ–°é¡µé¢       | `r`                 | åˆ·æ–°å½“å‰é¡µé¢å†…å®¹                                                              |
| åˆ‡æ¢ä¸»é¢˜       | `t`                 | å¾ªç¯åˆ‡æ¢ä¸»é¢˜                                                                  |
| æ‰“å¼€è®¾ç½®       | `s`                 | æ‰“å¼€è®¾ç½®é¡µé¢                                                                  |
| **æœç´¢**       |                     |                                                                               |
| å¼€å§‹æœç´¢       | `/` æˆ– `i`          | è¿›å…¥æœç´¢è¾“å…¥æ¨¡å¼                                                              |
| **é¡µé¢åˆ‡æ¢**   |                     |                                                                               |
| åˆ‡æ¢é¡µé¢       | `Tab`               | é¦–é¡µ/æœç´¢é¡µ-åˆ‡æ¢é¡µé¢ï¼›åŠ¨æ€é¡µ-åˆ‡æ¢ UP ä¸»ï¼›è®¾ç½®é¡µ-åˆ‡æ¢åˆ†ç±»ï¼›è§†é¢‘è¯¦æƒ…é¡µ-åˆ‡æ¢ç„¦ç‚¹ |
| **åŠ¨æ€é¡µ**     |                     |                                                                               |
| åˆ‡æ¢åŠ¨æ€æ ‡ç­¾   | `[` / `]`           | åœ¨å…¨éƒ¨/è§†é¢‘/å›¾æ–‡æ ‡ç­¾é—´å¾ªç¯åˆ‡æ¢                                                |
| å¿«é€Ÿåˆ‡æ¢æ ‡ç­¾   | `1` / `2` / `3`     | å¿«é€Ÿè·³è½¬åˆ°å…¨éƒ¨/è§†é¢‘/å›¾æ–‡æ ‡ç­¾                                                  |
| åˆ‡æ¢ UP ä¸»     | `Tab` / `Shift+Tab` | åœ¨å¸¸çœ‹ UP ä¸»åˆ—è¡¨ä¸­åˆ‡æ¢                                                        |
| **è§†é¢‘è¯¦æƒ…é¡µ** |                     |                                                                               |
| åˆ‡æ¢ç„¦ç‚¹       | `Tab`               | åœ¨è¯„è®ºå’Œç›¸å…³æ¨èåŒºåŸŸé—´åˆ‡æ¢                                                    |
| å±•å¼€æ”¶èµ·å›å¤   | `r`                 | å±•å¼€/æ”¶èµ·è¯„è®ºå›å¤                                                             |

### é¡µé¢å¯¼èˆª

åº”ç”¨é‡‡ç”¨ä¾§è¾¹æ å¯¼èˆªè®¾è®¡ï¼ŒåŒ…å«ä»¥ä¸‹ä¸»è¦é¡µé¢ï¼š

#### ğŸ  é¦–é¡µ

- æ˜¾ç¤ºä¸ªæ€§åŒ–æ¨èè§†é¢‘
- æ”¯æŒå°é¢å›¾ç‰‡é¢„è§ˆ
- è‡ªåŠ¨åˆ†é¡µåŠ è½½æ›´å¤šå†…å®¹

#### ğŸ” æœç´¢é¡µ

- è¾“å…¥å…³é”®è¯æœç´¢è§†é¢‘
- æ˜¾ç¤ºæœç´¢ç»“æœåˆ—è¡¨
- æ”¯æŒåˆ†é¡µæµè§ˆæ›´å¤šç»“æœ

#### ğŸ“± åŠ¨æ€é¡µ

- æµè§ˆå…³æ³¨çš„ UP ä¸»åŠ¨æ€
- æ”¯æŒå¤šç§åŠ¨æ€ç±»å‹ï¼ˆè§†é¢‘ã€å›¾æ–‡ã€çº¯æ–‡å­—ï¼‰
- **æ ‡ç­¾åˆ‡æ¢**ï¼šæŒ‰ `[` / `]` åœ¨å…¨éƒ¨/è§†é¢‘/å›¾æ–‡æ ‡ç­¾é—´åˆ‡æ¢
- **å¿«é€Ÿè®¿é—®**ï¼šæŒ‰ `1` / `2` / `3` å¿«é€Ÿè·³è½¬åˆ°å¯¹åº”æ ‡ç­¾
- **UP ä¸»å¯¼èˆª**ï¼šæŒ‰ `Tab` / `Shift+Tab` åˆ‡æ¢å¸¸çœ‹ UP ä¸»
- å¿«é€Ÿè®¿é—®å¸¸çœ‹ UP ä¸»åˆ—è¡¨

#### âš™ï¸ è®¾ç½®é¡µ

- æŸ¥çœ‹å’Œä¿®æ”¹é”®ä½ç»‘å®š
- åˆ‡æ¢ç•Œé¢ä¸»é¢˜
- è´¦æˆ·ç®¡ç†ï¼ˆç™»å‡ºåŠŸèƒ½ï¼‰

#### ğŸ¬ è§†é¢‘è¯¦æƒ…é¡µ

- æŸ¥çœ‹è§†é¢‘ä¿¡æ¯å’Œè¯„è®ºåŒº
- æ”¯æŒç›¸å…³æ¨è
- **ç„¦ç‚¹åˆ‡æ¢**ï¼šæŒ‰ `Tab` åœ¨è¯„è®ºå’Œç›¸å…³æ¨èåŒºåŸŸé—´åˆ‡æ¢
- **è¯„è®ºæ“ä½œ**ï¼šæŒ‰ `r` å±•å¼€/æ”¶èµ·å›å¤

### ä¸»è¦åŠŸèƒ½è¯´æ˜

#### äºŒç»´ç ç™»å½•æµç¨‹

1. å¯åŠ¨åº”ç”¨åè‡ªåŠ¨æ˜¾ç¤ºç™»å½•é¡µé¢
2. ä½¿ç”¨ Bilibili æ‰‹æœºå®¢æˆ·ç«¯æ‰«æäºŒç»´ç 
3. ç¡®è®¤ç™»å½•åè‡ªåŠ¨ä¿å­˜å‡­è¯åˆ°æœ¬åœ°
4. ç™»å½•æˆåŠŸåè·³è½¬åˆ°é¦–é¡µ

#### è§†é¢‘æ’­æ”¾

1. åœ¨è§†é¢‘åˆ—è¡¨ä¸­é€‰æ‹©è§†é¢‘
2. æŒ‰ `p` é”®æˆ–å›è½¦é”®æ‰“å¼€è§†é¢‘è¯¦æƒ…
3. åœ¨è§†é¢‘è¯¦æƒ…é¡µé¢æŒ‰ `p` é”®å¯åŠ¨æ’­æ”¾
4. ä½¿ç”¨ MPV æ’­æ”¾å™¨æ’­æ”¾è§†é¢‘å†…å®¹

#### å›¾ç‰‡é¢„è§ˆ

- æ”¯æŒçš„ç»ˆç«¯åè®®ï¼šKittyã€iTerm2ã€Sixel
- è‡ªåŠ¨æ£€æµ‹ç»ˆç«¯èƒ½åŠ›
- ä¸æ”¯æŒæ—¶å›é€€åˆ° ASCII è‰ºæœ¯

## âš™ï¸ é…ç½®è¯´æ˜

### é…ç½®æ–‡ä»¶ä½ç½®

é…ç½®æ–‡ä»¶å­˜å‚¨åœ¨ç”¨æˆ·é…ç½®ç›®å½•ï¼š

```
~/.config/bilibili-tui/
â”œâ”€â”€ credentials.json  # ç™»å½•å‡­è¯
â”œâ”€â”€ config.json      # åº”ç”¨é…ç½®
â””â”€â”€ cookies.txt      # ä¸´æ—¶ cookies æ–‡ä»¶ï¼ˆæ’­æ”¾è§†é¢‘æ—¶ç”Ÿæˆï¼‰
```

> `cookies.txt` æ–‡ä»¶åœ¨æ’­æ”¾è§†é¢‘æ—¶è‡ªåŠ¨ç”Ÿæˆï¼Œç”¨äº MPV/yt-dlp è®¤è¯

### é…ç½®æ–‡ä»¶æ ¼å¼

#### `credentials.json`

```json
{
  "sessdata": "your_sessdata_token",
  "bili_jct": "your_bili_jct_token",
  "dede_user_id": "your_user_id",
  "dede_user_id_ckmd5": "optional_md5_hash",
  "refresh_token": "optional_refresh_token"
}
```

#### `config.json`

```json
{
  "theme": "CatppuccinMocha",
  "keybindings": {
    "quit": "q",
    "nav_up": "k",
    "nav_down": "j",
    "nav_left": "h",
    "nav_right": "l",
    "confirm": "Enter",
    "back": "Esc",
    "next_theme": "t",
    "play": "p",
    "refresh": "r",
    "open_settings": "s"
  }
}
```

### ä¸»é¢˜é…ç½®

æ”¯æŒçš„ä¸»é¢˜å˜ä½“ï¼š

- `"Default"` - é»˜è®¤æš—è‰²ä¸»é¢˜
- `"CatppuccinLatte"` - Catppuccin æµ…è‰²ä¸»é¢˜
- `"CatppuccinFrappÃ©"` - Catppuccin FrappÃ© ä¸»é¢˜
- `"CatppuccinMacchiato"` - Catppuccin Macchiato ä¸»é¢˜
- `"CatppuccinMocha"` - Catppuccin Mocha ä¸»é¢˜
- `"Nord"` - Nord ä¸»é¢˜

## ğŸ—ï¸ æ¶æ„è¯´æ˜

### è®¾è®¡æ¨¡å¼

- **äº‹ä»¶é©±åŠ¨**: UI ç»„ä»¶è¿”å› `AppAction`ï¼Œä¸­å¤®å¤„ç†å™¨ç»Ÿä¸€å¤„ç†
- **å¼‚æ­¥ I/O**: æ‰€æœ‰ API è°ƒç”¨å’Œ I/O æ“ä½œéƒ½æ˜¯å¼‚æ­¥çš„
- **ç»„ä»¶åŒ– UI**: æ¯ä¸ªé¡µé¢å®ç° `Component` trait
- **çŠ¶æ€ç®¡ç†**: é›†ä¸­å¼çŠ¶æ€ç®¡ç†ï¼Œæ”¯æŒçŠ¶æ€æŒä¹…åŒ–

### æ¨¡å—äº¤äº’æµç¨‹

```
main.rs â†’ App::run() â†’ äº‹ä»¶å¾ªç¯ â†’ UI ç»„ä»¶ â†’ AppActions â†’ App::handle_action()
                                    â†“
                            API å®¢æˆ·ç«¯ â† Storage (å‡­è¯/é…ç½®)
                                    â†“
                            æ’­æ”¾å™¨ (å¤–éƒ¨ MPV)
```

### API å®‰å…¨

- **ç”¨æˆ·ä»£ç†**: ä½¿ç”¨æ ‡å‡† Chrome ç”¨æˆ·ä»£ç†
- **Referer å¤´**: å§‹ç»ˆåŒ…å« bilibili.com referer
- **WBI ç­¾å**: æœç´¢å’Œæ¨è API çš„å¼ºåˆ¶ç­¾åæœºåˆ¶
- **é€Ÿç‡é™åˆ¶**: é€šè¿‡æ­£ç¡®çš„ API ä½¿ç”¨æ¨¡å¼å®ç°éšå¼é€Ÿç‡é™åˆ¶

## ğŸ§ª å¼€å‘æŒ‡å—

### å¼€å‘ç¯å¢ƒè®¾ç½®

#### 1. å…‹éš†ä»“åº“

```bash
git clone https://github.com/maredevi/bilibili-tui.git
cd bilibili-tui
```

#### 2. å®‰è£…å¼€å‘ä¾èµ–

```bash
# ä½¿ç”¨ miseï¼ˆæ¨èï¼‰
mise install

# æˆ–æ‰‹åŠ¨å®‰è£… Rust
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
```

#### 3. è®¾ç½® Pre-commit Hooks

```bash
# å®‰è£… git hooks
pre-commit install

# æ‰‹åŠ¨è¿è¡Œæ£€æŸ¥
pre-commit run --all-files
```

### å¼€å‘å·¥ä½œæµ

#### å¸¸ç”¨å‘½ä»¤

```bash
# ä»£ç æ£€æŸ¥
cargo check

# æ ¼å¼åŒ–ä»£ç 
cargo fmt

# ä»£ç  Lint
cargo clippy -- -D warnings

# è¿è¡Œæµ‹è¯•
cargo test

# æ„å»ºé¡¹ç›®
cargo build

# æ„å»ºå‘å¸ƒç‰ˆæœ¬
cargo build --release

# è¿è¡Œåº”ç”¨
cargo run
```

#### Pre-commit é…ç½®

é¡¹ç›®é…ç½®äº†ä»¥ä¸‹ pre-commit hooksï¼š

- **ä»£ç æ ¼å¼**: `rustfmt` è‡ªåŠ¨æ ¼å¼åŒ–
- **è¯­æ³•æ£€æŸ¥**: `cargo check` å¿«é€Ÿæ£€æŸ¥
- **ä»£ç è´¨é‡**: `clippy` é«˜çº§ lint
- **æ„å»ºæµ‹è¯•**: `cargo build` ç¡®ä¿å¯æ„å»º
- **å•å…ƒæµ‹è¯•**: `cargo test` è¿è¡Œæµ‹è¯•

### è°ƒè¯•æŠ€å·§

#### å¯ç”¨è°ƒè¯•æ—¥å¿—

```bash
RUST_LOG=debug cargo run
```

#### å¸¸è§é—®é¢˜

1. **å›¾ç‰‡ä¸æ˜¾ç¤º**: æ£€æŸ¥ç»ˆç«¯æ˜¯å¦æ”¯æŒå›¾å½¢åè®®
2. **æ’­æ”¾å¤±è´¥**: ç¡®è®¤ MPV å’Œ yt-dlp å·²æ­£ç¡®å®‰è£…
3. **ç™»å½•å¤±è´¥**: æ£€æŸ¥ç½‘ç»œè¿æ¥å’Œé˜²ç«å¢™è®¾ç½®

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

### è´¡çŒ®æµç¨‹

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. åˆ›å»º Pull Request

### ä»£ç è§„èŒƒ

- éµå¾ª Rust å®˜æ–¹ä»£ç é£æ ¼
- ä½¿ç”¨ `cargo fmt` æ ¼å¼åŒ–ä»£ç 
- é€šè¿‡ `cargo clippy` æ£€æŸ¥
- æ·»åŠ é€‚å½“çš„å•å…ƒæµ‹è¯•
- æ›´æ–°ç›¸å…³æ–‡æ¡£

### Issue æŠ¥å‘Š

ä½¿ç”¨ GitHub Issues æŠ¥å‘Šé—®é¢˜ï¼Œè¯·åŒ…å«ï¼š

- è¯¦ç»†çš„é—®é¢˜æè¿°
- å¤ç°æ­¥éª¤
- ç¯å¢ƒä¿¡æ¯ï¼ˆæ“ä½œç³»ç»Ÿã€ç»ˆç«¯ç­‰ï¼‰
- é”™è¯¯æ—¥å¿—ï¼ˆå¦‚æœ‰ï¼‰

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ™ è‡´è°¢

æ„Ÿè°¢ä»¥ä¸‹å¼€æºé¡¹ç›®çš„æ”¯æŒï¼š

- [Ratatui](https://github.com/ratatui-org/ratatui) - ç°ä»£åŒ–çš„ Rust TUI æ¡†æ¶
- [Tokio](https://tokio.rs/) - å¼‚æ­¥è¿è¡Œæ—¶
- [Catppuccin](https://github.com/catppuccin/catppuccin) - ä¼˜é›…çš„é…è‰²æ–¹æ¡ˆ
- [MPV](https://mpv.io/) - å¼ºå¤§çš„åª’ä½“æ’­æ”¾å™¨
- [yt-dlp](https://github.com/yt-dlp/yt-dlp) - è§†é¢‘ä¸‹è½½å·¥å…·
- [MPV-Play-BiliBili-Comments](https://github.com/itKelis/MPV-Play-BiliBili-Comments) - MPV Bilibili å¼¹å¹•
- [bilibili-API-collect](https://github.com/SocialSisterYi/bilibili-API-collect) - Bilibili API é›†åˆ

## ğŸ“ è”ç³»æ–¹å¼

- é¡¹ç›®ä¸»é¡µ: [GitHub Repository](https://github.com/maredevi/bilibili-tui)
- é—®é¢˜åé¦ˆ: [GitHub Issues](https://github.com/maredevi/bilibili-tui/issues)
- åŠŸèƒ½è¯·æ±‚: [GitHub Discussions](https://github.com/maredevi/bilibili-tui/discussions)

---

<div align="center">

**ğŸŒŸ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª Star æ”¯æŒï¼**

Made with â¤ï¸ by MareDevi

</div>
